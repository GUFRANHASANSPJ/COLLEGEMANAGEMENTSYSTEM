{% extends 'college/base.html' %}
{% load static %}
{% block content %}

<style>
    .details-container {
        max-width: 800px;
        margin: 50px auto;
        padding: 30px;
        background-color: #f8f9fa;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .details-container h2, .details-container h4 {
        text-align: center;
        margin-bottom: 20px;
        font-weight: bold;
    }
    .edit-button {
        display: block;
        width: 200px;
        margin: 30px auto 0;
    }
</style>

<div class="details-container">
    <h2>Details About {{ student.full_name }}</h2>

    <h4>Internships</h4>
    {% if internships %}
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Duration</th>
                </tr>
            </thead>
            <tbody>
                {% for internship in internships %}
                    <tr>
                        <td>{{ internship.company_name }}</td>
                        <td>{{ internship.duration }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-center">No internship records available.</p>
    {% endif %}

    <h4>Attendance (Daily Status)</h4>
    {% if daily_status %}
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for status in daily_status %}
                    <tr>
                        <td>{{ status.date }}</td>
                        <td>{{ status.status }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-center">No daily status records available.</p>
    {% endif %}

    <h4>Events</h4>
    {% if events %}
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th>Event</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for event in events %}
                    <tr>
                        <td>{{ event.title }}</td>
                        <td>{{ event.date }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-center">No event records available.</p>
    {% endif %}

    <h4>Marks</h4>
    {% if marks %}
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Marks</th>
                </tr>
            </thead>
            <tbody>
                {% for mark in marks %}
                    <tr>
                        <td>{{ mark.subject }}</td>
                        <td>{{ mark.marks }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-center">No marks available.</p>
    {% endif %}

    <!-- Edit Profile Button -->
    <a href="{% url 'edit_student' student.id %}" class="btn btn-warning edit-button">Edit Details</a>

</div>
{% endblock %}
